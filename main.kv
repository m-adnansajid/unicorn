BoxLayout:
    orientation:'vertical'

    MDToolbar:
        id: toolbar
        title: 'Uni Corn Chattool'
        md_bg_color: .2, .2, .2, 1
        specific_text_color: 1, 1, 1, 1

    MDBottomNavigation:
        panel_color: .2, .2, .2, 1

        MDBottomNavigationItem:
            name: 'screen 1'
            text: 'Home'
            icon: 'home'
            MDGridLayout:
                cols: 2
                row_force_default:True
                row_default_height: 40
                padding: 10
                MDLabel:
                    text: "ProfilImg"
                MDLabel:
                    text: "Own name"
                MDLabel:
                    text: ""
                MDFillRoundFlatButton:
                    text: "Current state"
                Widget:
                    id: separator
                    size_hint_y: None
                    height: 6
                    canvas:
                        Color:
                            rgb: 0.33, 0.33, 0.33
                        Rectangle:
                            pos: 0, separator.center_y - 0.5
                            size: 600, 2
            ScrollView:
                x: 0
                size_hint_y: 1.0 - 2.3*(toolbar.height/root.height)
                MDList:
                    id: scroll
                    TwoLineIconListItem:
                        text: "Contact 1"
                        secondary_text: "Last message here"

                        IconLeftWidget:
                            icon: "language-python"

                    TwoLineIconListItem:
                        text: "Contact 2"
                        secondary_text: "Last message here"

                        IconLeftWidget:
                            icon: "language-python"

                    TwoLineIconListItem:
                        text: "Contact 3"
                        secondary_text: "Last message here"

                        IconLeftWidget:
                            icon: "language-python"

                    TwoLineIconListItem:
                        text: "Contact 1"
                        secondary_text: "Last message here"

                        IconLeftWidget:
                            icon: "language-python"

                    TwoLineIconListItem:
                        text: "Contact 2"
                        secondary_text: "Last message here"

                        IconLeftWidget:
                            icon: "language-python"

            MDFloatingActionButton:
                elevation: 8
                icon: 'message-outline'
                pos_hint: {"center_x": 0.9, "center_y": 0.1}
                on_release: print('Choose Contact to Chat with')
                #on_release: root.manager.current = 'screen_2'

        MDBottomNavigationItem:
            name: 'screen 2'
            text: 'Contacts'
            icon: 'contacts'

            ScrollView:

                MDList:
                    OneLineIconListItem:
                        text: "Contact 1"
                        on_release: print("Contact 1 clicked!")

                        IconLeftWidget:
                            icon: "github"
                    OneLineAvatarIconListItem:
                        text: "Contact 2"
                        on_release: print("Contact 2 clicked!")

                        IconLeftWidget:
                            icon: "gitlab"

                    OneLineIconListItem:
                        text: "Contact 3"
                        on_release: print("Contact 3 clicked!")

                        IconLeftWidget:
                            icon: "github"
                    OneLineAvatarIconListItem:
                        text: "Contact 4"
                        on_release: print("Contact 4 clicked!")

                        IconLeftWidget:
                            icon: "gitlab"

            MDFloatingActionButton:
                elevation: 8
                icon: 'account-plus-outline'
                pos_hint: {"center_x": 0.9, "center_y": 0.1}
                on_press: print("Add contact")


        MDBottomNavigationItem:
            name: 'screen 3'
            text: 'Chat'
            icon: 'chat'

            MDFloatLayout:
                md_bg_color: 245/255, 245/255, 245/255, 1
                size_hint_y: .11
                pos_hint: {"center_y" : .95}
                MDLabel:
                    id: bot_name
                    text: "MAX MUSTERMANN"
                    pos_hint: {"center_y": .5}
                    halign: "center"
                    font_size: "25sp"
                    theme_text_color: "Custom"
                    text_color: 53/255, 56/255, 60/255, 1
            ScrollView:
                size_hint_y: .77
                pos_hint: {"x": 0, "y": .116}
                do_scroll_x: False
                do_scroll_y: True
                BoxLayout:
                    id: chat_list
                    orientation: 'vertical'
                    size: (root.width, root.height)
                    height: self.minimum_height
                    size_hint: None, None
                    pso_hint: {'top': 10}
                    cols: 1
                    spacing: 5
            MDFloatLayout:
                md_bg_color: 245/255, 245/255, 245/255, 1
                size_hint_y: .11
                MDFloatLayout:
                    sizehint: .8, .75
                    pos_hint: {"center_x": .43, "center_y": .5}
                    canvas:
                        Color:
                            rgb: (238/255, 238/255, 238/255, 1)
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [23,23,23,23]
                    TextInput:
                        id: text_input
                        hint_text: "Type your message..."
                        size_hint: 1, None
                        pos_hint: {"center_x": .6, "center_y": .5}
                        font_size: "18sp"
                        height: self.minimum_height
                        multiline: False
                        cursor_color: 1, 170/255, 23/255, 1
                        cursor_width: "2sp"
                        foreground_color: 1, 170/255, 23/255, 1
                        background_color: 0,0,0,0
                        padding: 15
                MDIconButton:
                    icon: "send"
                    pos_hint: {"center_x": .91, "center_y": .5}
                    user_font_size: "18sp"
                    text_color: 1,1,1,1
                    md_bg_color: app.theme_cls.primary_color
                    on_release: app.send()

<MenuScreen>:
    BoxLayout:
        Button:
            text: 'Goto settings'
            on_press: root.manager.current = 'settings'
        Button:
            text: 'Quit'


